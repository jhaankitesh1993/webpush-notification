!function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=9)}([function(t,n,e){t.exports=e(7)},function(t,n){function e(t,n,e,o,r,i,a){try{var c=t[i](a),s=c.value}catch(t){return void e(t)}c.done?n(s):Promise.resolve(s).then(o,r)}t.exports=function(t){return function(){var n=this,o=arguments;return new Promise((function(r,i){var a=t.apply(n,o);function c(t){e(a,r,i,c,s,"next",t)}function s(t){e(a,r,i,c,s,"throw",t)}c(void 0)}))}}},function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n){function e(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}},function(t,n){var e=document.getElementsByClassName("commicado-popover-notification-container");t.exports={popoverCancelClick:function(t){return{bubbles:t.bubbles,cancelBubble:t.cancelBubble,cancelable:t.cancelable,composed:t.composed,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isTrusted:t.isTrusted,target:t.target,timeStamp:t.timeStamp,type:t.type}},popoverAllowClick:function(t){return console.log("handle popoverAllowClick ",t),{bubbles:t.bubbles,cancelBubble:t.cancelBubble,cancelable:t.cancelable,composed:t.composed,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isTrusted:t.isTrusted,target:t.target,timeStamp:t.timeStamp,type:t.type}},popoverClosed:function(){e.length>0&&e[0].addEventListener("click",(function(t){return{bubbles:t.bubbles,cancelBubble:t.cancelBubble,cancelable:t.cancelable,composed:t.composed,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isTrusted:t.isTrusted,target:t.target,timeStamp:t.timeStamp,type:t.type}}))},popoverShown:function(){e.length>0&&e[0].addEventListener("click",(function(t){return{bubbles:t.bubbles,cancelBubble:t.cancelBubble,cancelable:t.cancelable,composed:t.composed,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isTrusted:t.isTrusted,target:t.target,timeStamp:t.timeStamp,type:t.type}}))}}},function(t,n){t.exports=function(t){return"<style>\n  .commicado-popover-notification-container {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0,0,0,.6);\n    opacity: 1;\n    z-index: 99;\n    transition: all 0.4s ease-out;\n  }\n  .commicado-popover-notification-container.commicado-notification-reset{\n    opacity: 0;\n    z-index: -1;\n  }\n\n  .commicado-popover-notification-container .commicado-popover-notification-dialog {\n    width: 500px;\n    -webkit-animation-name: slideDownEnter;\n    -webkit-animation-iteration-count: 1;\n    -webkit-animation-timing-function: ease-out;\n    -webkit-animation-duration: .4s;\n    -webkit-animation-fill-mode: forwards;\n    animation-name: slideDownEnter;\n    animation-iteration-count: 1;\n    animation-timing-function: ease-out;\n    animation-duration: .4s;\n    animation-fill-mode: forwards;\n    box-sizing: border-box;\n    max-width: 100%;\n    margin: 0 auto;\n    box-shadow: 0 0 20px 3px rgba(0,0,0,.22)!important;\n    background: #fff!important;\n    padding: 1.286em;\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n    font-family: Roboto,Noto,Helvetica Neue,Helvetica,Arial,sans-serif;\n    z-index: 9999;\n  }\n  \n  .commicado-popover-notification-container.commicado-notification-reset .commicado-popover-notification-dialog{\n    -webkit-animation-name: fadeUp;\n    -webkit-animation-iteration-count: 1;\n    -webkit-animation-timing-function: ease-out;\n    -webkit-animation-duration: .4s;\n    z-index: -1;\n  }\n\n\n  .commicado-popover-notification-container .commicado-popover-notification-dialog .commicado-popover-notification .commicado-popover-notification-body {\n    box-sizing: border-box;\n    margin: 0;\n  }\n\n  .commicado-popover-notification-container .commicado-popover-notification-dialog .commicado-popover-notification .commicado-popover-notification-body .commicado-popover-notification-body-icon {\n    box-sizing: border-box;\n    float: left;\n    width: 80px;\n    height: 80px;\n    position: relative;\n  }\n  .commicado-popover-notification-container .commicado-popover-notification-dialog .commicado-popover-notification .commicado-popover-notification-body .commicado-popover-notification-body-icon img{\n    width: 100%;\n    height: 100%;\n  }\n  .commicado-popover-notification-container .commicado-popover-notification-dialog .commicado-popover-notification .commicado-popover-notification-body .commicado-popover-notification-body-message {\n    box-sizing: border-box;\n    padding: 0 .2em 0 1.286em;\n    float: left;\n    width: calc(100% - 80px);\n    font-size: 16px;\n    line-height: 1.45em;\n    -o-user-select: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    cursor: default;\n    color: #666!important;\n  }\n  .commicado-popover-notification-footer{\n    position: relative;\n    margin: .25em .25em 0 0;\n  }\n  .commicado-popover-notification-footer button{\n    float: right;\n    font-size: 1em;\n    text-transform: uppercase;\n    border-radius: 2px;\n    font-weight: 400;\n    box-sizing: border-box;\n    display: inline-block;\n    padding: 10px 20px;\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 1.5;\n    text-align: center;\n    white-space: nowrap;\n    vertical-align: middle;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    border: 1px solid transparent;\n    border-radius: .25rem;\n    font-family: inherit;\n    letter-spacing: .05em;\n    transition: background-color 75ms ease;\n    margin: 0;\n  }\n  .commicado-popover-notification-footer button.commicado-allow-button{\n    box-shadow: 0 2px 5px 0 rgba(0,0,0,.16), 0 2px 6px 0 rgba(0,0,0,.12);\n    background: ".concat(t["accept.background_color"],"!important;\n    color: ").concat(t["accept.text_color"],"!important;\n    border-radius: 2px;\n  }\n  .commicado-popover-notification-footer button.commicado-allow-button:focus{\n    outline: none;\n  }\n  .commicado-popover-notification-footer button.commicado-reject-button{\n    margin-right: .714em;\n    box-shadow: none;\n    background: ").concat(t["reject.background_color"],"!important;\n    color: ").concat(t["reject.text_color"],'!important;\n  }\n  .commicado-popover-notification-footer button.commicado-reject-button:focus{\n    outline: none;\n  }\n\n  @keyframes slideDownEnter {\n    0% {\n      transform: translateY(-150%);\n    }\n\n    100% {\n      transform: translateY(0);\n    }\n  }\n  @keyframes fadeUp {\n    0% {\n      transform: translateY(0%);\n    }\n\n    100% {\n      transform: translateY(-150%);\n    }\n  }\n  .commicado-clearfix{\n    display: block;\n    backface-visibility: initial!important;\n  }\n  .commicado-clearfix::after{\n    content: "";\n    display: block;\n    height: 0;\n    clear: both;\n    visibility: hidden;\n  }\n\n  @media only screen and (max-width: 600px) {\n    .commicado-popover-notification-container .commicado-popover-notification-dialog {\n      width: 100%;\n      padding: 10px;\n    }\n    .commicado-popover-notification-container .commicado-popover-notification-dialog .commicado-popover-notification .commicado-popover-notification-body .commicado-popover-notification-body-icon img{\n      width: 95%;\n      height: 95%;\n    }\n    .commicado-popover-notification-container .commicado-popover-notification-dialog .commicado-popover-notification .commicado-popover-notification-body .commicado-popover-notification-body-message {\n      font-size: 14px;\n    }\n    .commicado-popover-notification-footer{\n      margin: 10px 10px 0px 0px;\n    }\n  }\n</style>\n\n<div class="commicado-popover-notification-container">\n  <div class="commicado-popover-notification-dialog">\n    <div class="commicado-popover-notification">\n      <div class="commicado-popover-notification-body ">\n        <div class="commicado-popover-notification-body-icon">\n          <img src="').concat(t.icon_url?t.icon_url:"https://commicado-dev.s3.ap-south-1.amazonaws.com/app/notification-bell.png",'" alt="">\n        </div>\n        <div class="commicado-popover-notification-body-message">\n          ').concat(t.action_message,'\n        </div>\n        <div class="commicado-clearfix"></div>\n      </div>\n      <div class="commicado-popover-notification-footer">\n        <button class="commicado-allow-button commicado-subscribe-button">').concat(t["accept.message"],'</button>\n        <button class="commicado-reject-button">').concat(t["reject.message"],'</button>\n        <div class="commicado-clearfix"></div>\n      </div>\n    </div>\n  </div>\n</div>')}},function(t,n){t.exports=function(t){return'\n<style>\n  .commicado-bell-tooltip-container{\n    position: relative;\n    display: inline-block;\n  }\n  .commicado-bell-tooltip-container.commicado-tooltip-left .commicado-bell-tooltip-message{\n    visibility: hidden;\n    min-width: 200px;\n    padding: 10px;\n    background-color: black;\n    color: #fff;\n    text-align: center;\n    border-radius: 6px;\n    position: absolute;\n    z-index: 1;\n    top: 50%;\n    transform: translateY(-50%);\n    right: 110%;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n  .commicado-bell-tooltip-container.commicado-tooltip-right .commicado-bell-tooltip-message{\n    visibility: hidden;\n    min-width: 200px;\n    padding: 10px;\n    background-color: black;\n    color: #fff;\n    text-align: center;\n    border-radius: 6px;\n    position: absolute;\n    z-index: 1;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 110%;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n  .commicado-bell-tooltip-container.commicado-bell-tooltip-container.commicado-tooltip-right .commicado-bell-tooltip-message:after{\n    content: "";\n    position: absolute;\n    top: 50%;\n    right: 100%;\n    margin-top: -5px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: transparent black transparent transparent;\n  }\n  .commicado-bell-tooltip-container.commicado-bell-tooltip-container.commicado-tooltip-left .commicado-bell-tooltip-message:after{\n    content: "";\n    position: absolute;\n    top: 50%;\n    left: 100%;\n    margin-top: -5px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: transparent transparent transparent black;\n  }\n  .commicado-bell-tooltip-container:hover .commicado-bell-tooltip-message {\n    visibility: visible;\n  }\n</style>\n<div class="commicado-subscribe-button"\n  style="width: '.concat(t.size,";height: ").concat(t.size,";cursor: pointer;position: fixed;bottom: ").concat(t["offset.bottom"],"px; right: ").concat(t["offset.right"],"px; left: ").concat(t["offset.left"],'px;">\n  <div class="commicado-bell-tooltip-container ').concat("left"==t.location?"commicado-tooltip-right":"commicado-tooltip-left",'">\n    <svg xmlns="http://www.w3.org/2000/svg" width="99.7" height="99.7" viewBox="0 0 99.7 99.7"\n      style="filter: drop-shadow(rgba(34, 36, 38, 0.35) 0px 2px 4px); width: 100%; height: 100%;">\n      <circle cx="49.9" cy="49.9" r="49.9" style="fill: ').concat(t.primary_color,';"></circle>\n      <path\n        d="M50.1 66.2H27.7s-2-.2-2-2.1c0-1.9 1.7-2 1.7-2s6.7-3.2 6.7-5.5S33 52.7 33 43.3s6-16.6 13.2-16.6c0 0 1-2.4 3.9-2.4 2.8 0 3.8 2.4 3.8 2.4 7.2 0 13.2 7.2 13.2 16.6s-1 11-1 13.3c0 2.3 6.7 5.5 6.7 5.5s1.7.1 1.7 2c0 1.8-2.1 2.1-2.1 2.1H50.1zm-7.2 2.3h14.5s-1 6.3-7.2 6.3-7.3-6.3-7.3-6.3z"\n        style="fill: ').concat(t.accent_color,';"></path>\n      <ellipse style="fill: none; stroke: ').concat(t.accent_color,'; stroke-width: 3px; stroke-miterlimit: 10;" class="stroke"\n        cx="49.9" cy="49.9" rx="37.4" ry="36.9" style="stroke: ').concat(t.accent_color,';"></ellipse>\n    </svg>\n    <div class="commicado-bell-tooltip-message">\n      ').concat(t.action_message,"\n    </div>\n  </div>\n</div>\n")}},function(t,n,e){var o=function(t){"use strict";var n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,n,e,o){var r=n&&n.prototype instanceof p?n:p,i=Object.create(r.prototype),a=new _(o||[]);return i._invoke=function(t,n,e){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return j()}for(e.method=r,e.arg=i;;){var a=e.delegate;if(a){var c=y(a,e);if(c){if(c===l)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===o)throw o="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o="executing";var p=s(t,n,e);if("normal"===p.type){if(o=e.done?"completed":"suspendedYield",p.arg===l)continue;return{value:p.arg,done:e.done}}"throw"===p.type&&(o="completed",e.method="throw",e.arg=p.arg)}}}(t,e,a),i}function s(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function p(){}function u(){}function f(){}var d={};d[r]=function(){return this};var m=Object.getPrototypeOf,h=m&&m(m(k([])));h&&h!==n&&e.call(h,r)&&(d=h);var v=f.prototype=p.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function g(t,n){var o;this._invoke=function(r,i){function a(){return new n((function(o,a){!function o(r,i,a,c){var l=s(t[r],t,i);if("throw"!==l.type){var p=l.arg,u=p.value;return u&&"object"==typeof u&&e.call(u,"__await")?n.resolve(u.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):n.resolve(u).then((function(t){p.value=t,a(p)}),(function(t){return o("throw",t,a,c)}))}c(l.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}}function y(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,y(t,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var o=s(e,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,l;var r=o.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(e.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return u.prototype=v.constructor=f,f.constructor=u,f[a]=u.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===u||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(g.prototype),g.prototype[i]=function(){return this},t.AsyncIterator=g,t.async=function(n,e,o,r,i){void 0===i&&(i=Promise);var a=new g(c(n,e,o,r),i);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),v[a]="Generator",v[r]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(e,o){return a.type="throw",a.arg=t,n.next=e,o&&(n.method="next",n.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=e.call(i,"catchLoc"),s=e.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),l},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),l}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var o=e.completion;if("throw"===o.type){var r=o.arg;w(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:k(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=o}catch(t){Function("r","regeneratorRuntime = r")(o)}},function(t,n){t.exports='export default __webpack_public_path__ + "index.html";'},function(t,n,e){"use strict";e.r(n);var o=e(0),r=e.n(o),i=e(1),a=e.n(i),c=(e(8),e(2)),s=e.n(c),l=e(3),p=e.n(l),u=function(){function t(){s()(this,t),this._application_uuid=null}return p()(t,[{key:"application_uuid",get:function(){return this._application_uuid},set:function(t){this._application_uuid=t}}]),t}(),f=function(){var t=a()(r.a.mark((function t(n,e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("http://165.22.208.66/api/"+n,{method:e}).then(function(){var t=a()(r.a.mark((function t(n){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:if(!(e=t.sent).success){t.next=11;break}if(!Object.keys(e.data).length){t.next=8;break}return t.abrupt("return",e.data);case 8:throw new Error("Invalid application id provided");case 9:t.next=12;break;case 11:throw new Error("Unable to connect with Commicado Servers");case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()).catch((function(t){return console.log(t),0})));case 1:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),d=function(){function t(n,e){s()(this,t),this._app_uuid=n,this._public_key=e}var n,e;return p()(t,[{key:"requestPermission",value:(e=a()(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.Notification.requestPermission();case 2:if("granted"===t.sent){t.next=7;break}throw new Error("Permission not granted for Notification");case 7:return t.next=9,this.registerServiceWorker();case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"registerServiceWorker",value:(n=a()(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.serviceWorker.register("service.js?application_id="+this._app_uuid+"&public_key="+this._public_key);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),t}(),m=e(5),h=e.n(m),v=e(6),b=e.n(v),g=e(4),y=function(){function t(n){s()(this,t),this._app_id=n,this._icon_url=null}var n;return p()(t,[{key:"flatten",value:function(t){var n={};return function t(e,o){if(Object(e)!==e)n[o]=e;else if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)t(e[r],o+"["+r+"]");0==i&&(n[o]=[])}else{var a=!0;for(var c in e)a=!1,t(e[c],o?o+"."+c:c);a&&o&&(n[o]={})}}(t,""),n}},{key:"init",value:(n=a()(r.a.mark((function t(){var n,e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f("notification/webpush/preferences?application_uuid=".concat(this._app_id),"GET");case 2:return n=t.sent,e=n.preferences,console.log("prompt_preferences",e),this._icon_url=n.icon_url,t.abrupt("return",e);case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"resetPrompt",value:function(){Object(g.popoverClosed)();var t=document.getElementsByClassName("commicado-popover-notification-container"),n="commicado-notification-reset";t.length>0&&-1==n.indexOf(t[0])&&t[0].classList.add(n)}},{key:"renderSlidePrompt",value:function(t){var n=this;Object(g.popoverShown)(),t.action_message=t.prompt_text?t.prompt_text:"We'd like to show you notifications, for the latest news and updates",t["accept.message"]=t["accept.message"].length?t["accept.message"]:"Accept",t["accept.text_color"]=t["accept.text_color"].length?t["accept.text_color"]:"#ffffff",t["accept.background_color"]=t["accept.background_color"].length?t["accept.background_color"]:"#1d8cf8",t["reject.message"]=t["reject.message"].length?t["reject.message"]:"Reject",t["reject.text_color"]=t["reject.text_color"].length?t["reject.text_color"]:"#ffffff",t["reject.background_color"]=t["reject.background_color"].length?t["reject.background_color"]:"#e54b4d",t.icon_url=this._icon_url;var e=h()(t);window.document.body.insertAdjacentHTML("afterbegin",e);var o=document.getElementsByClassName("commicado-reject-button"),r=document.getElementsByClassName("commicado-allow-button");r.length>0&&r[0].addEventListener("click",(function(t){Object(g.popoverAllowClick)(t),n.resetPrompt()})),o.length>0&&o[0].addEventListener("click",(function(t){Object(g.popoverCancelClick)(t),n.resetPrompt()}))}},{key:"renderNotificationBell",value:function(t){t.accent_color=t.accent_color.length?t.accent_color:"#ffffff",t.primary_color=t.primary_color.length?t.primary_color:"#e54b4d",t.location=t.location.length?t.location:"right",t["offset.bottom"]=t["offset.bottom"].length?t["offset.bottom"]:15,t["offset.left"]=t["offset.left"].length?t["offset.left"]:15,t["offset.right"]=t["offset.right"].length?t["offset.right"]:15,t.location=t.location.length?t.location:"right","left"===t.location?t["offset.right"]=void 0:t["offset.left"]=void 0,t.size="small"===t.size?"32px":"large"===t.size?"64px":"48px",window.document.body.insertAdjacentHTML("afterbegin",b()(t))}},{key:"renderCustomLink",value:function(t){var n=document.getElementsByClassName("commicado-subscribe-container");Array.from(n).forEach((function(n){Object.assign(n.style,{background:"link"===t.style?"transparent":t.button_color,color:t.text_color,cursor:"pointer",padding:"small"===t.size?"4px 12px":"medium"===t.size?"8px 16px":"12px 20px",fontSize:"small"===t.size?"13px":"medium"===t.size?"15px":"18px"}),n.innerHTML=t.subscribe_text,n.className+=" commicado-subscribe-button"}))}}]),t}(),x={};x.generate=function(){var t=a()(r.a.mark((function t(n){var e,o,i,c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(e=new u).app_id=n,t.next=5,new y(e.app_id);case 5:return o=t.sent,t.next=8,o.init();case 8:return i=t.sent,t.next=11,f("notification/webpush/subscribe?application_id=".concat(e.app_id),"GET");case 11:return c=t.sent,s=document.getElementsByClassName("commicado-subscribe-button"),navigator.serviceWorker.getRegistrations().then(function(){var t=a()(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.length?alert("You are already subscribed brother/sister"):Array.from(s).forEach((function(t){t.addEventListener("click",a()(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new d(e.app_id,c.public_key),t.next=3,n.requestPermission();case 3:t.sent,alert("You are subscribed brother/sister");case 5:case"end":return t.stop()}}),t)}))))}));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),t.abrupt("return",i);case 17:return t.prev=17,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(n){return t.apply(this,arguments)}}();var w=x,_=function(){function t(n){s()(this,t),this.res_data=n}var n;return p()(t,[{key:"action",value:(n=a()(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new y("");case 2:this.DisplayPromptObj=t.sent,this.showSlidedownPrompt(),this.showBellPrompt(),this.showCustomLinkButton();case 6:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"showSlidedownPrompt",value:function(){try{this.process_prompt_preferences(this.res_data,"slide_prompt")}catch(t){console.log(t)}}},{key:"showBellPrompt",value:function(){try{this.process_prompt_preferences(this.res_data,"subscription_bell")}catch(t){console.log(t)}}},{key:"showCustomLinkButton",value:function(){try{this.process_prompt_preferences(this.res_data,"custom_link")}catch(t){console.log(t)}}},{key:"process_prompt_preferences",value:function(t,n){for(var e in t)if(n==e&&"slide_prompt"==e){var o=this.flatten(t[e]);this.DisplayPromptObj.renderSlidePrompt(o)}else if(n==e&&"subscription_bell"==e){var r=this.flatten(t[e]);this.DisplayPromptObj.renderNotificationBell(r)}else if(n==e&&"custom_link"==e){var i=this.flatten(t[e]);this.DisplayPromptObj.renderCustomLink(i)}}},{key:"flatten",value:function(t){var n={};return function t(e,o){if(Object(e)!==e)n[o]=e;else if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)t(e[r],o+"["+r+"]");0==i&&(n[o]=[])}else{var a=!0;for(var c in e)a=!1,t(e[c],o?o+"."+c:c);a&&o&&(n[o]={})}}(t,""),n}}]),t}();!function(t){try{var n=function(){var t=a()(r.a.mark((function t(n){var e,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.app_id,void 0===(o=void 0===e?"":e)||!o){t.next=9;break}return t.next=4,w.generate(o);case 4:i=t.sent,new _(i).action(),t.next=10;break;case 9:throw new Error("No application ID provided");case 10:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();t.Commicado={init:n}}catch(t){console.log(t)}}(window)}]);